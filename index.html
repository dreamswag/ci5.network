<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ci5.network</title>
    <link rel="stylesheet" href="static/style.css">
    <link rel="icon" type="image/png" href="https://ci5.network/static/signal.png">
</head>
<body>

    <div class="vb-header">
        <div class="header-left">
            <a href="https://github.com/dreamswag/ci5" target="_blank" class="logo-group">
                <img src="https://ci5.run/static/signal.png" class="vb-logo" alt="Ci5">
                <div class="logo-text">
                    <div class="brand">ci5<span class="brand-tld">.network</span></div>
                </div>
            </a>
            <div class="header-links">
                <a href="https://ci5.run" class="header-link">run</a>
                <a href="https://ci5.host" class="header-link">host</a>
                <a href="https://ci5.dev" class="header-link">dev</a>
            </div>
        </div>
        <div class="header-right">
            <div class="nav-links">
                <a href="#" class="nav-link active" data-view="index">Forums</a>
                <a href="#" class="nav-link" data-view="leaderboard">Leaderboard</a>
                <a href="#" class="nav-link" data-view="submit">Submit RRUL</a>
                <a href="#" class="nav-link" data-view="blacklist">Blacklist</a>
            </div>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>

    <div class="mobile-nav-drawer hidden" id="mobileNavDrawer">
        <div class="mobile-nav-content">
            <div class="mobile-nav-section">
                <div class="mobile-nav-header">Navigation</div>
                <a href="#" class="mobile-nav-link active" data-view="index">Forums</a>
                <a href="#" class="mobile-nav-link" data-view="leaderboard">Leaderboard</a>
                <a href="#" class="mobile-nav-link" data-view="submit">Submit RRUL</a>
                <a href="#" class="mobile-nav-link" data-view="blacklist">Blacklist</a>
            </div>
        </div>
    </div>

    <div class="vb-body">
        <div class="search-bar-mobile">
            <input type="text" class="search-input" placeholder="Search..." id="search-input">
            <button class="vb-btn" onclick="doSearch()">Go</button>
        </div>

        <div class="welcome-panel" id="welcome-panel">
            <div class="welcome-guest" id="welcome-guest">
                <div class="welcome-text">
                    <strong>Welcome, Guest.</strong><br>
                    <a href="#" onclick="startDeviceAuth(); return false;">Login via GitHub</a> to participate.
                </div>
                <div class="login-area">
                    <button class="vb-btn primary" onclick="startDeviceAuth()">GitHub Login</button>
                </div>
            </div>
            <div class="welcome-user hidden" id="welcome-user">
                <img src="" alt="" class="user-avatar" id="user-avatar">
                <div class="welcome-text">
                    Welcome back, <strong id="user-name"></strong>.<br>
                    <a href="#" onclick="logout(); return false;">Log Out</a>
                </div>
            </div>
        </div>

        <div class="overlay hidden" id="device-modal">
            <div class="vb-modal">
                <div class="cat-header">GitHub Device Authorization</div>
                <div class="modal-body">
                    <div id="device-loading">
                        <p>Requesting device code...</p>
                    </div>
                    <div id="device-code-section" class="hidden">
                        <p>Enter this code at <a href="https://github.com/login/device" target="_blank" class="highlight">github.com/login/device</a></p>
                        <div class="code-display" id="user-code">XXXX-XXXX</div>
                        <p class="tiny">Waiting for authorization...</p>
                    </div>
                </div>
                <div class="modal-btns">
                    <button class="vb-btn" onclick="closeDeviceModal()">Cancel</button>
                </div>
            </div>
        </div>

        <div id="main-content">

            <div class="view-panel" id="view-index">

                <div class="forum-table" data-repos="ci5.network">
                    <div class="cat-header gold">
                        <span class="collapse-btn" onclick="toggleCategory(this)">[‚àí]</span>
                        üèÜ Performance Arena
                    </div>
                    <div class="cat-body">
                        <table width="100%" cellpadding="0" cellspacing="1">
                            <tr class="thead-row">
                                <th width="5%"></th>
                                <th>Forum</th>
                                <th class="hide-mobile" width="10%">Threads</th>
                                <th class="hide-mobile" width="10%">Posts</th>
                                <th class="hide-mobile" width="25%">Last Post</th>
                            </tr>
                            <tr class="forum-row alt-a" data-category="metrics">
                                <td align="center"><div class="f-icon new">üìä</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="viewCategory('metrics'); return false;">RRUL Submissions</a></div>
                                    <div class="forum-desc">Post your Realtime Response Under Load results. Auto-indexed to leaderboard.</div>
                                    <div class="forum-meta-mobile">
                                        <span id="metrics-threads-m">0</span> threads ¬∑ <span id="metrics-posts-m">0</span> posts
                                    </div>
                                </td>
                                <td class="hide-mobile" align="center" id="metrics-threads">‚Äî</td>
                                <td class="hide-mobile" align="center" id="metrics-posts">‚Äî</td>
                                <td class="last-post hide-mobile" id="metrics-last">Loading...</td>
                            </tr>
                            <tr class="forum-row alt-b">
                                <td align="center"><div class="f-icon gold">üëë</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="switchView('leaderboard'); return false;">"Holy Ci5 ü§Ø" [& St. Guinea Ci5 üêπü™Ω]</a></div>
                                    <div class="forum-desc">Verified 1.74Gbps+ entries only.</div>
                                </td>
                                <td class="hide-mobile" align="center">0</td>
                                <td class="hide-mobile" align="center">0</td>
                                <td class="last-post hide-mobile"><span class="dim">Awaiting first champion...</span></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="forum-table" data-repos="ci5.network,ci5">
                    <div class="cat-header">
                        <span class="collapse-btn" onclick="toggleCategory(this)">[‚àí]</span>
                        üìö Project Announcements
                    </div>
                    <div class="cat-body">
                        <table width="100%" cellpadding="0" cellspacing="1">
                            <tr class="thead-row">
                                <th width="5%"></th>
                                <th>Forum</th>
                                <th class="hide-mobile" width="10%">Threads</th>
                                <th class="hide-mobile" width="10%">Posts</th>
                                <th class="hide-mobile" width="25%">Last Post</th>
                            </tr>
                            <tr class="forum-row alt-a" data-category="announcements">
                                <td align="center"><div class="f-icon">üì¢</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="viewCategory('announcements'); return false;">Announcements</a></div>
                                    <div class="forum-desc">Official project updates and releases.</div>
                                    <div class="forum-meta-mobile">
                                        <span id="announcements-threads-m">0</span> threads ¬∑ <span id="announcements-posts-m">0</span> posts
                                    </div>
                                </td>
                                <td class="hide-mobile" align="center" id="announcements-threads">‚Äî</td>
                                <td class="hide-mobile" align="center" id="announcements-posts">‚Äî</td>
                                <td class="last-post hide-mobile" id="announcements-last">Loading...</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="forum-table" data-repos="ci5.network,ci5,ci5.host,ci5.dev">
                    <div class="cat-header">
                        <span class="collapse-btn" onclick="toggleCategory(this)">[‚àí]</span>
                        üí¨ Community Discussion
                    </div>
                    <div class="cat-body">
                        <table width="100%" cellpadding="0" cellspacing="1">
                            <tr class="thead-row">
                                <th width="5%"></th>
                                <th>Forum</th>
                                <th class="hide-mobile" width="10%">Threads</th>
                                <th class="hide-mobile" width="10%">Posts</th>
                                <th class="hide-mobile" width="25%">Last Post</th>
                            </tr>
                            <tr class="forum-row alt-a" data-category="intel_req">
                                <td align="center"><div class="f-icon">üö®</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="viewCategory('intel_req'); return false;">INTEL_REQ</a></div>
                                    <div class="forum-desc">Unsolved queries, malfunctions, troubleshooting. Include bone_marrow.sh output.</div>
                                    <div class="forum-meta-mobile">
                                        <span id="intel_req-threads-m">0</span> threads ¬∑ <span id="intel_req-posts-m">0</span> posts
                                    </div>
                                </td>
                                <td class="hide-mobile" align="center" id="intel_req-threads">‚Äî</td>
                                <td class="hide-mobile" align="center" id="intel_req-posts">‚Äî</td>
                                <td class="last-post hide-mobile" id="intel_req-last">Loading...</td>
                            </tr>
                            <tr class="forum-row alt-b" data-category="armory">
                                <td align="center"><div class="f-icon">üõ†Ô∏è</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="viewCategory('armory'); return false;">ARMORY</a></div>
                                    <div class="forum-desc">Hardware Showcase. Custom enclosures, cooling mods, HAT implementations.</div>
                                    <div class="forum-meta-mobile">
                                        <span id="armory-threads-m">0</span> threads ¬∑ <span id="armory-posts-m">0</span> posts
                                    </div>
                                </td>
                                <td class="hide-mobile" align="center" id="armory-threads">‚Äî</td>
                                <td class="hide-mobile" align="center" id="armory-posts">‚Äî</td>
                                <td class="last-post hide-mobile" id="armory-last">Loading...</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="forum-table" data-repos="ci5.dev">
                    <div class="cat-header">
                        <span class="collapse-btn" onclick="toggleCategory(this)">[‚àí]</span>
                        üì¶ Cork Development
                    </div>
                    <div class="cat-body">
                        <table width="100%" cellpadding="0" cellspacing="1">
                            <tr class="thead-row">
                                <th width="5%"></th>
                                <th>Forum</th>
                                <th class="hide-mobile" width="10%">Threads</th>
                                <th class="hide-mobile" width="10%">Posts</th>
                                <th class="hide-mobile" width="25%">Last Post</th>
                            </tr>
                            <tr class="forum-row alt-a" data-category="cork-submissions">
                                <td align="center"><div class="f-icon new">üß™</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="viewCategory('cork-submissions'); return false;">Cork Submissions</a></div>
                                    <div class="forum-desc">Submit containers for Winery processing. Community review pipeline.</div>
                                    <div class="forum-meta-mobile">
                                        <span id="cork-submissions-threads-m">0</span> threads ¬∑ <span id="cork-submissions-posts-m">0</span> posts
                                    </div>
                                </td>
                                <td class="hide-mobile" align="center" id="cork-submissions-threads">‚Äî</td>
                                <td class="hide-mobile" align="center" id="cork-submissions-posts">‚Äî</td>
                                <td class="last-post hide-mobile" id="cork-submissions-last">Loading...</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="forum-table" data-repos="ci5.network">
                    <div class="cat-header shame">
                        <span class="collapse-btn" onclick="toggleCategory(this)">[‚àí]</span>
                        üîî HALL_OF.shAME
                    </div>
                    <div class="cat-body">
                        <table width="100%" cellpadding="0" cellspacing="1">
                            <tr class="thead-row">
                                <th width="5%"></th>
                                <th>Forum</th>
                                <th class="hide-mobile" width="10%">Entries</th>
                                <th class="hide-mobile" width="10%">Reports</th>
                                <th class="hide-mobile" width="25%">Last Entry</th>
                            </tr>
                            <tr class="forum-row alt-a">
                                <td align="center"><div class="f-icon shame">üö´</div></td>
                                <td>
                                    <div class="forum-title"><a href="#" onclick="switchView('blacklist'); return false;">Compromised Corks & Blacklisted HWIDs</a></div>
                                    <div class="forum-desc">Flagged for CVEs, malware, abuse. Auto-blocked by ci5.run bootstrap.</div>
                                </td>
                                <td class="hide-mobile" align="center" id="blacklist-entries">‚Äî</td>
                                <td class="hide-mobile" align="center" id="blacklist-reports">‚Äî</td>
                                <td class="last-post hide-mobile" id="blacklist-last">Loading...</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="forum-table">
                    <div class="cat-header">Latest Activity</div>
                    <div class="activity-list" id="activity-list">
                        <div class="loading-row">Loading from GitHub Discussions...</div>
                    </div>
                </div>

            </div>

            <div class="view-panel hidden" id="view-leaderboard">
                <div class="page-title">Performance Leaderboard</div>
                <p class="page-desc">1.74Gbps Gauntlet. First verified submission claims eternal glory üêπü™Ω </p>

                <div class="forum-table">
                    <div class="cat-header gold">"Holy Ci5 ü§Ø" - Top Performers</div>
                    <div class="table-scroll">
                        <table class="data-table" width="100%">
                            <tr class="thead-row">
                                <th>Rank</th>
                                <th>Pilot</th>
                                <th>Throughput</th>
                                <th class="hide-mobile">Latency</th>
                                <th class="hide-mobile">Hardware</th>
                                <th class="hide-mobile">Date</th>
                            </tr>
                            <tbody id="lb-top-body">
                                <tr class="bounty-row">
                                    <td colspan="6">
                                        <div class="bounty-text">‚ö° 1.74Gbps BOUNTY UNCLAIMED ‚ö°</div>
                                        <div class="bounty-sub">Be the first to break the barrier</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="forum-table">
                    <div class="cat-header">üìä Recent Verified Submissions</div>
                    <div class="table-scroll">
                        <table class="data-table" width="100%">
                            <tr class="thead-row">
                                <th>Pilot</th>
                                <th>Download</th>
                                <th class="hide-mobile">Upload</th>
                                <th class="hide-mobile">Latency</th>
                                <th class="hide-mobile">Hardware / Hash</th>
                                <th>Submitted</th>
                            </tr>
                            <tbody id="lb-recent-body">
                                <tr><td colspan="6" class="loading-row">Loading submissions...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="back-nav">
                    <a href="#" onclick="switchView('index'); return false;">¬´ Back to Forums</a>
                </div>
            </div>

            <div class="view-panel hidden" id="view-submit">
                <div class="page-title">Submit RRUL Results</div>
                <p class="page-desc">Attested Execution via <code>ci5</code> CLI is required for Leaderboard verification.</p>

                <div class="auth-required hidden" id="submit-auth-required">
                    <div class="forum-table">
                        <div class="cat-header">Authentication Required</div>
                        <div class="auth-required">
                            <p>You must be logged in to generate a challenge token.</p>
                            <button class="vb-btn primary" onclick="startDeviceAuth()">Login via GitHub</button>
                        </div>
                    </div>
                </div>

                <div id="submit-content" class="hidden">
                    <div class="forum-table">
                        <div class="cat-header gold">‚ö° Verified Submission (Proof of Work)</div>
                        <div class="form-body center-text">
                            <p class="form-instruction">Run this command on your Ci5 device to attest hardware and performance:</p>
                            
                            <div class="challenge-box">
                                <div class="challenge-label">CHALLENGE TOKEN (Expires in 5:00)</div>
                                <div class="challenge-code" id="challenge-code" onclick="copyChallenge()">LOADING...</div>
                                <div class="challenge-cmd">ci5 rrul --verify <span id="cmd-token">...</span></div>
                            </div>
                            
                            <div class="status-indicator" id="challenge-status">
                                <span class="spinner"></span> Waiting for device connection...
                            </div>
                        </div>
                    </div>

                    <div class="forum-table">
                        <div class="cat-header">
                            <span class="collapse-btn" onclick="toggleCategory(this)">[+]</span>
                            üìù Manual Submission (Legacy / Unverified)
                        </div>
                        <div class="form-body collapsed">
                            <div class="form-fields" id="submit-form-fields">
                                <p class="tiny dim" style="margin-bottom:10px;">Note: Manual submissions are marked as "Unverified" and are ineligible for Gold Badges.</p>
                                <div class="form-group">
                                    <label>RRUL JSON Output:</label>
                                    <textarea id="rrul-json" placeholder='Paste flent RRUL JSON output...'></textarea>
                                </div>
                                <div class="form-row">
                                    <div class="form-group half">
                                        <label>Cork Used:</label>
                                        <select id="cork-select">
                                            <option value="">Select Cork...</option>
                                            <option value="cake-autorate">cake-autorate</option>
                                            <option value="sqm-scripts">sqm-scripts</option>
                                            <option value="custom">Custom (specify in notes)</option>
                                        </select>
                                    </div>
                                    <div class="form-group half">
                                        <label>Hardware:</label>
                                        <input type="text" id="hardware-input" placeholder="e.g., Pi5 8GB + RTL8153">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Notes (optional):</label>
                                    <textarea id="notes-input" rows="3" placeholder="ISP, line speed, any custom tuning..."></textarea>
                                </div>
                                <div class="form-actions">
                                    <button class="vb-btn" onclick="submitRRUL()">Submit Unverified</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="back-nav">
                    <a href="#" onclick="switchView('index'); return false;">¬´ Back to Forums</a>
                </div>
            </div>

            <div class="view-panel hidden" id="view-blacklist">
                <div class="page-title shame">‚õî Hall of .shAME</div>
                <p class="page-desc">Compromised Corks and blacklisted Hardware IDs. Auto-blocked by ci5.run.</p>

                <div class="forum-table">
                    <div class="cat-header shame">Confirmed Compromised Corks</div>
                    <div class="table-scroll">
                        <table class="data-table" width="100%">
                            <tr class="thead-row">
                                <th>Cork ID</th>
                                <th>Reason</th>
                                <th class="hide-mobile">CVE</th>
                                <th>Severity</th>
                                <th class="hide-mobile">Blocked Since</th>
                            </tr>
                            <tbody id="bl-corks-body">
                                <tr><td colspan="5" class="loading-row">Loading blacklist...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="forum-table">
                    <div class="cat-header shame">Hardware-ID Blacklist</div>
                    <div class="table-scroll">
                        <table class="data-table" width="100%">
                            <tr class="thead-row">
                                <th>HWID (Partial)</th>
                                <th>Reason</th>
                                <th class="hide-mobile">Banned Since</th>
                                <th class="hide-mobile">Appeal</th>
                            </tr>
                            <tbody id="bl-hwid-body">
                                <tr><td colspan="4" class="loading-row">Loading blacklist...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="back-nav">
                    <a href="#" onclick="switchView('index'); return false;">¬´ Back to Forums</a>
                </div>
            </div>

            <div class="view-panel hidden" id="view-category">
                <div class="page-title" id="category-title">Loading...</div>

                <div class="forum-table">
                    <div class="cat-header" id="category-header">Threads</div>
                    <table class="data-table" width="100%">
                        <tr class="thead-row">
                            <th width="5%"></th>
                            <th>Thread / Started By</th>
                            <th class="hide-mobile" width="15%">Last Post</th>
                            <th width="8%">Replies</th>
                        </tr>
                        <tbody id="thread-list">
                            <tr><td colspan="4" class="loading-row">Loading threads...</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="back-nav">
                    <a href="#" onclick="switchView('index'); return false;">¬´ Back to Forums</a>
                </div>
            </div>

            <div class="view-panel hidden" id="view-thread">
                <div class="thread-title-bar" id="thread-title-bar">Loading...</div>

                <div id="post-list"></div>

                <div class="reply-box hidden" id="reply-box">
                    <div class="cat-header">Quick Reply</div>
                    <div class="reply-form">
                        <textarea id="reply-text" placeholder="Write your reply..."></textarea>
                        <div class="reply-actions">
                            <button class="vb-btn primary" onclick="postReply()">Post Reply</button>
                        </div>
                    </div>
                </div>

                <div class="back-nav">
                    <a href="#" onclick="backToCategory(); return false;">¬´ Back to Category</a>
                </div>
            </div>

        </div>

        <div class="footer">
            <a href="https://github.com/dreamswag/ci5.network">GitHub</a> ¬∑ 
            <a href="/docs/SUPPORT.md">Support</a> ¬∑ 
            <a href="/docs/ARCHITECTURE.md">Docs</a>
            <br>
            USB3.0 NIC License<br>
            <span class="tiny">üé™    N0 R19H75 D353RV3D. üé™</span>
        </div>
    </div>

    <script src="static/script.js"></script>
    <script>
        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            const drawer = document.getElementById('mobileNavDrawer');
            const btn = this;
            drawer.classList.toggle('hidden');
            btn.classList.toggle('active');
        });

        // Mobile nav links
        document.querySelectorAll('.mobile-nav-link[data-view]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const view = this.dataset.view;
                switchView(view);
                document.getElementById('mobileNavDrawer').classList.add('hidden');
                document.getElementById('mobileMenuBtn').classList.remove('active');
                
                // Update active state
                document.querySelectorAll('.mobile-nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Close drawer when clicking outside
        document.addEventListener('click', function(e) {
            const drawer = document.getElementById('mobileNavDrawer');
            const btn = document.getElementById('mobileMenuBtn');
            if (!drawer.contains(e.target) && !btn.contains(e.target) && !drawer.classList.contains('hidden')) {
                drawer.classList.add('hidden');
                btn.classList.remove('active');
            }
        });
    </script>
</body>
</html>